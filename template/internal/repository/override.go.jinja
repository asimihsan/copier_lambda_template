package repository

import (
	"context"
	"time"
)

type OverrideStatus string

const (
	OverrideStatusPending  OverrideStatus = "pending"
	OverrideStatusApproved OverrideStatus = "approved"
	OverrideStatusRejected OverrideStatus = "rejected"
)

type Override struct {
	OverrideID  string         `json:"override_id"`
	RequestedBy string         `json:"requested_by"`
	StartDate   time.Time      `json:"start_date"`
	EndDate     time.Time      `json:"end_date"`
	Status      OverrideStatus `json:"status"`
	ApprovedBy  string         `json:"approved_by,omitempty"`
	CreatedAt   time.Time      `json:"created_at"`
	UpdatedAt   time.Time      `json:"updated_at"`
}

type OverrideRepository interface {
	ListOverrides(ctx context.Context) ([]Override, error)
	GetOverride(ctx context.Context, id string) (*Override, error)
	CreateOverride(ctx context.Context, requestedBy string, startDate, endDate time.Time) (*Override, error)
	ApproveOverride(ctx context.Context, id string, approvedBy string) error
	RejectOverride(ctx context.Context, id string, rejectedBy string) error
}
